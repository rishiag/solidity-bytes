id: basic-struct
title: Define and use a struct
difficulty: beginner
tags: [structs, basics]
objectives:
  - Create a struct and store an instance in state
description: |
  Define `struct Profile { string name; uint age; }` and add setters/getters for a single stored profile.
hints:
  - Prefer storage for persistent state; return fields individually.
starter:
  files:
    - path: contracts/ProfileStore.sol
      content: |
        // SPDX-License-Identifier: MIT
        pragma solidity ^0.8.20;

        contract ProfileStore {
            // TODO: struct Profile and storage instance with set/get
        }
    - path: hardhat.config.js
      content: |
        require("@nomicfoundation/hardhat-toolbox");
        module.exports = { solidity: "0.8.20" };
tests:
  files:
    - path: test/ProfileStore.test.js
      content: |
        const { expect } = require("chai");
        const { ethers } = require("hardhat");

        describe("ProfileStore", function () {
          it("stores and returns profile", async function () {
            const Factory = await ethers.getContractFactory("ProfileStore");
            const c = await Factory.deploy();
            await c.set("alice", 30);
            const [name, age] = await c.get();
            expect(name).to.equal("alice");
            expect(age).to.equal(30);
          });
        });
solution:
  files:
    - path: contracts/ProfileStore.sol
      content: |
        // SPDX-License-Identifier: MIT
        pragma solidity ^0.8.20;

        contract ProfileStore {
            struct Profile { string name; uint age; }
            Profile private p;
            function set(string calldata name, uint age) external { p = Profile(name, age); }
            function get() external view returns (string memory, uint) { return (p.name, p.age); }
        }
visibility: after-pass

